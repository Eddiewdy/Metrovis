<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
    body {
      background-color: #0c2034;
    }
    a{
      white-space: nowrap;
    }
    #content {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #0c2034;

    }

    #subway-graph {
      position: absolute;

      width: 100%;
      height: 100%;
    }
  </style>

</head>

<body>
  <div id="container">

    <div id="content">
      <div id="subway-graph">

      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.0.1/dist/echarts.min.js"></script>

  <script>
    // let lineData= [{'coords': [[415, 440], [415, 390], [415, 340], [465, 290], [515, 290], [565, 290], [615, 290], [665, 290], [715, 290], [765, 290], [815, 290], [915, 290], [1015, 290], [1067, 290], [1119, 350], [1119, 290], [1119, 350]]}, {'coords': [[550, 20], [600, 20], [450, 20], [400, 20], [400, 70], [400, 120], [450, 120], [500, 120], [550, 120], [600, 120], [650, 120], [700, 120], [738.3333333333334, 143.33333333333334], [776.6666666666667, 166.66666666666669], [815.0, 190.0], [815, 240], [815, 290], [853, 340], [891, 340], [929, 340], [967, 340], [1005, 340], [1043, 340], [1081, 340], [1119, 350]]}, {'coords': [[600, 20], [650, 20], [700, 20], [750, 20], [800, 20], [850, 20], [900, 20], [950, 20], [1000, 20], [1050, 20], [1100, 20], [1150, 70], [1150, 110], [1150, 150], [1150, 190], [1107, 230], [1067, 230], [1067, 230], [1067, 290], [930, 340], [870, 400], [870, 400], [870, 440], [870, 480], [870, 520], [870, 520], [910, 520], [950, 520], [990, 520], [1030, 560], [1030, 592], [1030, 624], [1030, 656], [1030, 688], [1030, 720], [1030, 752], [1030, 752], [1085, 752], [1140, 752], [1195, 752], [1250, 752], [1305, 752], [1360, 752], [1360, 810], [1360, 858], [1360, 858], [1400, 858], [1440, 858], [1480, 858], [1520, 858]]}, {'coords': [[979, 592], [1130, 624], [1170, 624], [1210, 624], [1250, 624], [1290, 624], [1330, 624], [1370, 624]]}, {'coords': [[929, 752], [929, 707], [929, 662], [929, 617], [870, 570], [820, 570], [770, 570], [700, 530], [700, 480], [700, 430]]}, {'coords': [[700, 835], [700, 785], [800, 785], [900, 785], [1000, 785], [1100, 785], [1200, 785], [1362, 752], [1362, 702], [1322, 660], [1262, 660], [1202, 660], [1142, 660], [1082, 660], [1082, 592], [1082, 560], [1082, 528], [1082, 480], [1082, 448]]}, {'coords': [[60, 662], [120, 662], [180, 662], [240, 662], [300, 662], [360, 662], [420, 662], [460, 662], [510, 662], [510, 612], [565, 612], [620, 612], [675, 612], [784, 480], [995, 480], [1110, 480], [1120, 440], [1120, 385], [1250, 350], [1305, 350], [1355, 290], [1355, 235], [1355, 180], [565, 662], [620, 662], [675, 662], [701, 735], [701, 785], [701, 835]]}, {'coords': [[465, 210], [465, 290], [465, 370], [465, 430], [465, 490], [560, 530], [800, 592], [880, 592], [1110, 550], [1250, 480], [1250, 420], [1250, 190], [1200, 150], [1100, 150], [950, 158], [765, 190], [705, 190], [645, 190], [575, 150]]}]
    let lineData = [
      /*一号线的数据*/
      {
        'coords': [
          [0, 490],
          [5, 490],
          [55, 490],
          [105, 490],
          [155, 490],
          [205, 490],
          [255, 490],
          [305, 490],
          [355, 490],
          //衔接1
          [415, 490],
          [415, 440],
          [415, 390],
          [415, 340],
          //衔接2
          [415, 290],
          [465, 290],
          [515, 290],
          [565, 290],
          [615, 290],
          [665, 290],
          [715, 290],
          [765, 290],
          [815, 290],
          [915, 290],
          [1015, 290],
          [1067, 290],
          [1119, 290],
          [1119, 350],
          [1119, 375],
        ]
      },
      /*二号线的数据*/
      {
        'coords': [
          [550, 20],
          [600, 20],
          [450, 20],
          [400, 20],
          [400, 70],
          [400, 120],
          [450, 120],
          [500, 120],
          [550, 120],
          [600, 120],
          [650, 120],
          [700, 120],
          [738.3333333333334, 143.33333333333334],
          [776.6666666666667, 166.66666666666669],
          [815.0, 190.0],
          [815, 240],
          [815, 290],
          //衔接1
          [815, 340],
          [853, 340],
          [891, 340],
          [929, 340],
          [967, 340],
          [1005, 340],
          [1043, 340],
          [1081, 340],
          [1119, 290]
        ]
      },
      /*三号线的数据*/
      {
        'coords': [
          [600, 20],
          [650, 20],
          [700, 20],
          [750, 20],
          [800, 20],
          [850, 20],
          [900, 20],
          [950, 20],
          [1000, 20],
          [1050, 20],
          [1100, 20],
          //衔接一
          [1150, 20],
          [1150, 70],
          [1150, 110],
          [1150, 150],
          [1150, 190],
          //衔接二
          [1150, 230],
          //中间的点
          [1107, 230],
          //[1055, 230],
          //[1015, 230],
          [1067, 230],
          //[1067, 230],
          [1015, 290],
          [930, 340],
          [870, 400],
          [870, 400],
          [870, 440],
          [870, 480],
          [870, 520],
          [870, 520],
          [910, 520],
          [950, 520],
          [990, 520],
          [1030, 560],
          [1030, 592],
          [1030, 624],
          [1030, 656],
          [1030, 688],
          [1030, 720],
          [1030, 752],
          [1030, 752],
          [1085, 752],
          [1140, 752],
          [1195, 752],
          [1250, 752],
          [1305, 752],
          [1360, 752],
          [1360, 810],
          [1360, 858],
          [1360, 858],
          [1400, 858],
          [1440, 858],
          [1480, 858],
          [1520, 858],
          [1580, 858]
        ]
      },
      //四号线的数据
      {
        'coords': [
          [979, 560],
          //衔接一
          [979, 592],
          [1030, 592],
          [1080, 592],
          [1130, 592],
          [1180, 592],
          [1230, 592],
          [1280, 592],
          [1330, 592],
          [1400, 592]
        ]
      },
      //五号线的数据
      {
        'coords': [
          [929, 752],
          [929, 707],
          [929, 662],
          [929, 617],
          [870, 590],
          [820, 590],
          [770, 590],
          [700, 530],
          [700, 480],
          [700, 430],
          [700, 350]
        ]
      },
      //十号线的数据
      {
        'coords': [
          [700, 900],
          [700, 835],
          [700, 785],
          [800, 785],
          [900, 785],
          [1000, 785],
          [1100, 785],
          [1200, 785],
          //衔接一
          [1412, 785],
          [1412, 752],
          [1412, 702],
          //衔接2
          [1412, 660],
          [1372, 660],
          [1312, 660],
          [1252, 660],
          [1192, 660],
          [1132, 660],
          [1030, 592],
          [1030, 560],

          [1082, 528],
          [1082, 480],
          [1082, 448]
        ]
      },
      //11号线前半段数据
      {
        'coords': [
          [10, 662],
          [60, 662],
          [120, 662],
          [180, 662],
          [240, 662],
          [300, 662],
          [360, 662],
          [420, 662],
          [460, 662],
          [510, 662],
          [510, 612],
          [565, 612],
          [620, 612],
          [675, 612],
          [700, 530],
          [700, 480],
          [784, 480],
          [870, 480],
          [995, 480],
          [1080, 480],
          [1118, 480],
          [1120, 440],
          [1120, 385],
          [1118, 350],
          [1250, 350],
          [1305, 350],
          [1355, 290],
          [1355, 235],
          [1355, 180],
          [1355, 120],

        ]
      },
      //11号线后半段数据
      {
        'coords': [
          [510, 662],
          [565, 662],
          [620, 662],
          [675, 662],
          [701, 735],
          [701, 785],
          [701, 835]
        ]
      },
      //环线12号数据
      {
        'coords': [
          [465, 210],
          [465, 290],
          [465, 370],
          [465, 430],
          [465, 490],
          [560, 530],
          [698, 530],
          [800, 560],
          [880, 560],
          [980, 560],
          [1030, 560],
          [1110, 550],
          [1118, 480],
          [1250, 480],
          [1250, 420],
          [1250, 350],
          [1250, 190],
          [1200, 150],
          [1150, 150],
          [1100, 150],
          [950, 158],
          [815, 190],
          [765, 190],
          [705, 190],
          [645, 190],
          [575, 150],
          [465, 210]
        ]
      }
    ]
    let itemData = [{
      'name': 'Sta104',
      'value': [5, 490, 6900]
    }, {
      'name': 'Sta65',
      'value': [55, 490, 6869]
    }, {
      'name': 'Sta49',
      'value': [105, 490, 9323]
    }, {
      'name': 'Sta149',
      'value': [155, 490, 2953]
    }, {
      'name': 'Sta74',
      'value': [205, 490, 6028]
    }, {
      'name': 'Sta128',
      'value': [255, 490, 1130]
    }, {
      'name': 'Sta106',
      'value': [355, 490, 1401]
    }, {
      'name': 'Sta110',
      'value': [415, 440, 8499]
    }, {
      'name': 'Sta97',
      'value': [415, 390, 2972]
    }, {
      'name': 'Sta80',
      'value': [415, 340, 4211]
    }, {
      'name': 'Sta64',
      'value': [515, 290, 4212]
    }, {
      'name': 'Sta150',
      'value': [565, 290, 567]
    }, {
      'name': 'Sta154',
      'value': [615, 290, 4718]
    }, {
      'name': 'Sta107',
      'value': [665, 290, 14326]
    }, {
      'name': 'Sta83',
      'value': [715, 290, 4711]
    }, {
      'name': 'Sta108',
      'value': [765, 290, 15370]
    }, {
      'name': 'Sta159',
      'value': [915, 290, 3532]
    }, {
      'name': 'Sta1',
      'value': [1067, 290, 5235]
    }, {
      'name': 'Sta155',
      'value': [600, 20, 3507]
    }, {
      'name': 'Sta51',
      'value': [550, 20, 736]
    }, {
      'name': 'Sta105',
      'value': [450, 20, 501]
    }, {
      'name': 'Sta24',
      'value': [400, 20, 219]
    }, {
      'name': 'Sta139',
      'value': [400, 70, 1620]
    }, {
      'name': 'Sta71',
      'value': [400, 120, 789]
    }, {
      'name': 'Sta57',
      'value': [450, 120, 876]
    }, {
      'name': 'Sta76',
      'value': [500, 120, 3841]
    }, {
      'name': 'Sta52',
      'value': [550, 120, 1764]
    }, {
      'name': 'Sta68',
      'value': [600, 120, 3545]
    }, {
      'name': 'Sta151',
      'value': [650, 120, 2155]
    }, {
      'name': 'Sta48',
      'value': [700, 120, 2630]
    }, {
      'name': 'Sta27',
      'value': [738.3333333333334, 143.33333333333334, 3437]
    }, {
      'name': 'Sta81',
      'value': [776.6666666666667, 166.66666666666669, 10449]
    }, {
      'name': 'Sta127',
      'value': [815.0, 190.0, 11805]
    }, {
      'name': 'Sta123',
      'value': [815, 240, 5958]
    }, {
      'name': 'Sta47',
      'value': [815, 290, 12481]
    }, {
      'name': 'Sta18',
      'value': [853, 340, 863]
    }, {
      'name': 'Sta79',
      'value': [891, 340, 5943]
    }, {
      'name': 'Sta98',
      'value': [929, 340, 5191]
    }, {
      'name': 'Sta78',
      'value': [967, 340, 1806]
    }, {
      'name': 'Sta53',
      'value': [1005, 340, 2314]
    }, {
      'name': 'Sta163',
      'value': [1043, 340, 1918]
    }, {
      'name': 'Sta9',
      'value': [1081, 340, 12036]
    }, {
      'name': 'Sta129',
      'value': [1119, 350, 16917]
    }, {
      'name': 'Sta155',
      'value': [600, 20, 3507]
    }, {
      'name': 'Sta143',
      'value': [650, 20, 2122]
    }, {
      'name': 'Sta156',
      'value': [700, 20, 2515]
    }, {
      'name': 'Sta61',
      'value': [750, 20, 5682]
    }, {
      'name': 'Sta50',
      'value': [800, 20, 1454]
    }, {
      'name': 'Sta119',
      'value': [850, 20, 2242]
    }, {
      'name': 'Sta66',
      'value': [900, 20, 1377]
    }, {
      'name': 'Sta12',
      'value': [950, 20, 3761]
    }, {
      'name': 'Sta161',
      'value': [1000, 20, 1470]
    }, {
      'name': 'Sta21',
      'value': [1050, 20, 1789]
    }, {
      'name': 'Sta133',
      'value': [1100, 20, 1533]
    }, {
      'name': 'Sta22',
      'value': [1150, 70, 4946]
    }, {
      'name': 'Sta138',
      'value': [1150, 110, 4251]
    }, {
      'name': 'Sta41',
      'value': [1150, 150, 6617]
    }, {
      'name': 'Sta30',
      'value': [1150, 190, 14595]
    }, {
      'name': 'Sta67',
      'value': [1107, 230, 11376]
    }, {
      'name': 'Sta144',
      'value': [1067, 230, 3198]
    }, {
      'name': 'Sta144',
      'value': [1067, 230, 3198]
    }, {
      'name': 'Sta5',
      'value': [1067, 290, 14575]
    }, {
      'name': 'Sta98',
      'value': [930, 340, 5191]
    }, {
      'name': 'Sta29',
      'value': [870, 400, 4779]
    }, {
      'name': 'Sta29',
      'value': [870, 400, 4779]
    }, {
      'name': 'Sta126',
      'value': [870, 440, 37794]
    }, {
      'name': 'Sta115',
      'value': [870, 480, 18189]
    }, {
      'name': 'Sta115',
      'value': [870, 520, 18189]
    }, {
      'name': 'Sta115',
      'value': [870, 520, 18189]
    }, {
      'name': 'Sta40',
      'value': [910, 520, 12771]
    }, {
      'name': 'Sta131',
      'value': [950, 520, 4136]
    }, {
      'name': 'Sta39',
      'value': [990, 520, 2787]
    }, {
      'name': 'Sta135',
      'value': [1030, 560, 5923]
    }, {
      'name': 'Sta100',
      'value': [1030, 624, 6880]
    }, {
      'name': 'Sta167',
      'value': [1030, 656, 3889]
    }, {
      'name': 'Sta135',
      'value': [1030, 688, 5923]
    }, {
      'name': 'Sta113',
      'value': [1030, 720, 1747]
    }, {
      'name': 'Sta141',
      'value': [1030, 752, 6658]
    }, {
      'name': 'Sta141',
      'value': [1030, 752, 6658]
    }, {
      'name': 'Sta142',
      'value': [1085, 752, 6395]
    }, {
      'name': 'Sta158',
      'value': [1140, 752, 4245]
    }, {
      'name': 'Sta44',
      'value': [1195, 752, 3190]
    }, {
      'name': 'Sta117',
      'value': [1250, 752, 1648]
    }, {
      'name': 'Sta147',
      'value': [1305, 752, 883]
    }, {
      'name': 'Sta42',
      'value': [1360, 752, 5699]
    }, {
      'name': 'Sta35',
      'value': [1360, 810, 3472]
    }, {
      'name': 'Sta109',
      'value': [1360, 858, 2618]
    }, {
      'name': 'Sta109',
      'value': [1360, 858, 2618]
    }, {
      'name': 'Sta33',
      'value': [1400, 858, 659]
    }, {
      'name': 'Sta112',
      'value': [1440, 858, 2197]
    }, {
      'name': 'Sta153',
      'value': [1480, 858, 1103]
    }, {
      'name': 'Sta125',
      'value': [1520, 858, 2791]
    }, {
      'name': 'Sta84',
      'value': [979, 560, 3585]
    }, {
      'name': 'Sta134',
      'value': [1030, 592, 26232]
    }, {
      'name': 'Sta134',
      'value': [1080, 592, 26232]
    }, {
      'name': 'Sta59',
      'value': [1130, 592, 1620]
    }, {
      'name': 'Sta19',
      'value': [1180, 592, 448]
    }, {
      'name': 'Sta62',
      'value': [1230, 592, 499]
    }, {
      'name': 'Sta165',
      'value': [1280, 592, 300]
    }, {
      'name': 'Sta58',
      'value': [1330, 592, 173]
    }, {
      'name': 'Sta54',
      'value': [929, 752, 6955]
    }, {
      'name': 'Sta23',
      'value': [929, 707, 10116]
    }, {
      'name': 'Sta56',
      'value': [929, 662, 6993]
    }, {
      'name': 'Sta23',
      'value': [929, 617, 10116]
    }, {
      'name': 'Sta56',
      'value': [870, 590, 6993]
    }, {
      'name': 'Sta69',
      'value': [820, 590, 4946]
    }, {
      'name': 'Sta16',
      'value': [770, 590, 1488]
    }, {
      'name': 'Sta37',
      'value': [700, 530, 3028]
    }, {
      'name': 'Sta132',
      'value': [700, 480, 3983]
    }, {
      'name': 'Sta96',
      'value': [700, 430, 1386]
    }, {
      'name': 'Sta28',
      'value': [60, 662, 4597]
    }, {
      'name': 'Sta124',
      'value': [120, 662, 1551]
    }, {
      'name': 'Sta99',
      'value': [180, 662, 5118]
    }, {
      'name': 'Sta166',
      'value': [240, 662, 636]
    }, {
      'name': 'Sta36',
      'value': [300, 662, 1780]
    }, {
      'name': 'Sta122',
      'value': [360, 662, 5519]
    }, {
      'name': 'Sta77',
      'value': [420, 662, 884]
    }, {
      'name': 'Sta140',
      'value': [460, 662, 906]
    }, {
      'name': 'Sta111',
      'value': [510, 662, 1527]
    }, {
      'name': 'Sta13',
      'value': [510, 612, 1238]
    }, {
      'name': 'Sta70',
      'value': [565, 612, 4611]
    }, {
      'name': 'Sta55',
      'value': [620, 612, 4681]
    }, {
      'name': 'Sta20',
      'value': [675, 612, 14510]
    }, {
      'name': 'Sta23',
      'value': [700, 530, 10116]
    }, {
      'name': 'Sta56',
      'value': [700, 480, 6993]
    }, {
      'name': 'Sta118',
      'value': [784, 480, 9386]
    }, {
      'name': 'Sta115',
      'value': [870, 480, 18189]
    }, {
      'name': 'Sta162',
      'value': [995, 480, 8894]
    }, {
      'name': 'Sta114',
      'value': [1080, 480, 5988]
    }, {
      'name': 'Sta15',
      'value': [1118, 480, 4179]
    }, {
      'name': 'Sta86',
      'value': [1120, 440, 6143]
    }, {
      'name': 'Sta46',
      'value': [1120, 385, 3626]
    }, {
      'name': 'Sta63',
      'value': [1118, 350, 32239]
    }, {
      'name': 'Sta3',
      'value': [1250, 350, 1546]
    }, {
      'name': 'Sta25',
      'value': [1305, 350, 4545]
    }, {
      'name': 'Sta146',
      'value': [1355, 290, 7465]
    }, {
      'name': 'Sta130',
      'value': [1355, 235, 3856]
    }, {
      'name': 'Sta120',
      'value': [1355, 180, 4590]
    }, {
      'name': 'Sta146',
      'value': [565, 662, 7465]
    }, {
      'name': 'Sta130',
      'value': [620, 662, 3856]
    }, {
      'name': 'Sta120',
      'value': [675, 662, 4590]
    }, {
      'name': 'Sta146',
      'value': [701, 735, 7465]
    }, {
      'name': 'Sta130',
      'value': [701, 785, 3856]
    }, {
      'name': 'Sta120',
      'value': [701, 835, 4590]
    }, {
      'name': 'Sta14',
      'value': [465, 210, 2410]
    }, {
      'name': 'Sta89',
      'value': [465, 290, 32809]
    }, {
      'name': 'Sta73',
      'value': [465, 370, 1353]
    }, {
      'name': 'Sta148',
      'value': [465, 430, 2262]
    }, {
      'name': 'Sta60',
      'value': [465, 490, 1074]
    }, {
      'name': 'Sta91',
      'value': [560, 530, 1905]
    }, {
      'name': 'Sta55',
      'value': [698, 530, 4681]
    }, {
      'name': 'Sta32',
      'value': [800, 560, 2732]
    }, {
      'name': 'Sta116',
      'value': [880, 560, 68]
    }, {
      'name': 'Sta84',
      'value': [980, 560, 3585]
    }, {
      'name': 'Sta135',
      'value': [1030, 560, 5923]
    }, {
      'name': 'Sta92',
      'value': [1110, 550, 2586]
    }, {
      'name': 'Sta15',
      'value': [1118, 480, 4179]
    }, {
      'name': 'Sta31',
      'value': [1250, 480, 4286]
    }, {
      'name': 'Sta93',
      'value': [1250, 420, 2219]
    }, {
      'name': 'Sta3',
      'value': [1250, 350, 1546]
    }, {
      'name': 'Sta72',
      'value': [1250, 190, 4237]
    }, {
      'name': 'Sta95',
      'value': [1200, 150, 5720]
    }, {
      'name': 'Sta41',
      'value': [1150, 150, 6617]
    }, {
      'name': 'Sta90',
      'value': [1100, 150, 4473]
    }, {
      'name': 'Sta26',
      'value': [950, 158, 2060]
    }, {
      'name': 'Sta15',
      'value': [815, 190, 4179]
    }, {
      'name': 'Sta17',
      'value': [765, 190, 6076]
    }, {
      'name': 'Sta101',
      'value': [705, 190, 1862]
    }, {
      'name': 'Sta136',
      'value': [645, 190, 5728]
    }, {
      'name': 'Sta101',
      'value': [575, 150, 1862]
    }, {
      'name': 'Sta102',
      'value': [700, 835, 216]
    }, {
      'name': 'Sta75',
      'value': [700, 785, 1138]
    }, {
      'name': 'Sta8',
      'value': [800, 785, 930]
    }, {
      'name': 'Sta6',
      'value': [900, 785, 760]
    }, {
      'name': 'Sta7',
      'value': [1000, 785, 1051]
    }, {
      'name': 'Sta160',
      'value': [1100, 785, 3927]
    }, {
      'name': 'Sta94',
      'value': [1200, 785, 2333]
    }, {
      'name': 'Sta87',
      'value': [1412, 752, 6758]
    }, {
      'name': 'Sta88',
      'value': [1412, 702, 8143]
    }, {
      'name': 'Sta145',
      'value': [1372, 660, 741]
    }, {
      'name': 'Sta103',
      'value': [1312, 660, 1274]
    }, {
      'name': 'Sta4',
      'value': [1252, 660, 1879]
    }, {
      'name': 'Sta2',
      'value': [1192, 660, 1234]
    }, {
      'name': 'Sta85',
      'value': [1132, 660, 3100]
    }, {
      'name': 'Sta134',
      'value': [1030, 592, 26232]
    }, {
      'name': 'Sta135',
      'value': [1030, 560, 5923]
    }, {
      'name': 'Sta168',
      'value': [1082, 528, 3490]
    }, {
      'name': 'Sta114',
      'value': [1082, 480, 5988]
    }, {
      'name': 'Sta157',
      'value': [1082, 448, 3135]
    }]
    /*
      根据不同的人流量改变图标的大小和颜色
      */
    const flow_colors = ["#15dc559e", "#d5900e9e", "#d6430e9e",
      "#8304059e"
    ]
    let flow_size = [6, 12, 16, 23]
    let line_flag = [0, 0, 0, 0, 0, 0, 0, 0]
    let range = [68, 37794]
    let flow_num = [range[0] + (range[1] - range[0]) / 4, range[0] + (range[1] - range[0]) / 2, range[0] + (range[1] -
      range[0]) / 4 * 3]
    for (let i in itemData) {
      //设置itemStyle：根据进站人数的不同来设置
      var flow = itemData[i]["value"][2] //进站人数
      /*
      归一化Min-Max Normalization
   x' = (x - X_min) / (X_max - X_min)
 */
      itemData[i]["symbolSize"] = flow_size[0] + (flow - range[0]) / (range[1] - range[0]) * (flow_size[3] - flow_size[
        0])


      if (flow < flow_num[0]) {
        itemData[i]["symbolSize"] = flow_size[0]
        itemData[i]["itemStyle"] = {
          borderColor: flow_colors[0],
          color: '#ffffff',
          borderWidth: 3,
        }
      } else if (flow < flow_num[1]) {
        itemData[i]["symbolSize"] = flow_size[1]
        itemData[i]["itemStyle"] = {
          borderColor: flow_colors[1],
          color: '#ffffff',
          borderWidth: 3,
        }

      } else if (flow < flow_num[2]) {
        itemData[i]["symbolSize"] = flow_size[2]
        itemData[i]["itemStyle"] = {
          borderColor: flow_colors[2],
          color: '#ffffff',
          borderWidth: 3,
        }

      } else {
        itemData[i]["symbolSize"] = flow_size[3]
        itemData[i]["itemStyle"] = {
          borderColor: flow_colors[3],
          color: '#ffffff',
          borderWidth: 3,
        }

      }

      /*设置label*/
      itemData[i]["label"] = {
        show: true,
        position: 'bottom',
        fontSize:'0.5rem',
        formatter: function (param) {
          return param.name;
        }
      }

      //设置tooltip
      itemData[i]["tooltip"] = {
        formatter: function (param) {
          return param.name + " 人流量:" + param.value[2] + "人";
        }
      }
    }
    let subwayDom = document.getElementById("subway-graph")
    let subwayChart = echarts.init(subwayDom)

    let option = {
      title: {
        text: ' 地铁客流实况',
        textStyle: {
          color: 'white'
        },
        top: '2%',
        left: '45%'
      },
      grid:{
        left:'5%',
        width:'90%',
        height:'90%',
        top:'5%',
        bottom:'5%',
      },
      backgroundColor: '#0c2034', //背景颜色

      tooltip: {},
          //实现缩放的功能
          dataZoom: [{
            type: 'inside',
            xAxisIndex: [0],
            start:60,

          }, {
            type: 'inside',
            yAxisIndex: [0],
            start:20,
           // minSpan:20,
            //maxSpan:20,
          }],
      //xAxis和yAixs的max表示的是同一个width或height对应的不同段数 16：9来绘图
      xAxis: {
        show: false,
        min: 0,
        max: 1450,
        type: "value",
        //开启x轴坐标
        axisPointer: {
          show: false
        },
      },
      yAxis: {
        show: false,
        min: 0,
        max: 900,
        type: "value",
        //开启y轴坐标
        axisPointer: {
          show: false
        },
      },
      media:{
        query:{
          minWidth:300,
          minAspectRatio:1.3
        }
      },
      series: [{
          type: 'lines',
          coordinateSystem: 'cartesian2d', //使用直角坐标
          polyline: true,
          lineStyle: {
            width: 5,
            color: "#ffffff", // 0% 处的颜色
            opacity: 0.8
          },
          zlevel: 0,
          data: lineData,
        },
        {
          type: 'scatter',
          symbol: 'circle',
          symbolSize: flow_size[1],
          effectType: 'ripple',
          data: itemData,

          zlevel: 1,
        },
        /* {
           type: 'effectScatter',
           symbol: 'rect',
           symbolSize: [45, 10],
           rippleEffect: {
             scale: 0 //控制涟漪动画的大小
           },
           data: [
             // {'name': '换乘站 Sta7+Sta135', 'value': [1045, 560, 0]},
             // {'name': '换乘站 Sta14+Sta6', 'value': [1045, 592, 0]},
             {
               'name': '换乘站 S]ta89',
               'value': [465, 290, 0]
             },
             {
               'name': '换乘站 Sta47',
               'value': [820, 290, 0]
             },
             {
               'name': '换乘站 Sta5',
               'value': [1015, 290, 0]
             },
             {
               'name': '换乘站 Sta129',
               'value': [1119, 290, 0]
             },
             {
               'name': '换乘站 Sta63',
               'value': [1119, 350, 0]
             },
             {
               'name': '换乘站 Sta127',
               'value': [820, 190.0, 0]
             },
             {
               'name': '换乘站 Sta98',
               'value': [930, 340, 0]
             },
             {
               'name': '换乘站 Sta40',
               'value': [870, 480, 0]
             },
             {
               'name': '换乘站 Sta33',
               'value': [1360, 752, 0]
             },
             {
               'name': '换乘站 Sta134',
               'value': [949, 560, 0]
             },
             {
               'name': '换乘站 Sta10',
               'value': [700, 480, 0]
             },
             {
               'name': '换乘站 Sta96',
               'value': [700, 530, 0]
             },
             {
               'name': '换乘站 Sta111',
               'value': [510, 662, 0]
             },
             {
               'name': '换乘站 Sta75',
               'value': [701, 785, 0]
             },
             {
               'name': '换乘站 Sta114',
               'value': [1040, 480, 0]
             },
             {
               'name': '换乘站 Sta3',
               'value': [1250, 350, 0]
             },
             {
               'name': '换乘站 Sta41',
               'value': [1145, 150, 0]
             },
             {
               'name': '换乘站 Sta15',
               'value': [1100, 480, 0]
             },

           ],

         },*/

        // {
        //   //二号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[1],
        // },
        // {
        //   //三号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[2],
        // },
        // {
        //   //四号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[3],
        // },
        // {
        //   //五号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[4],
        // },
        // {
        //   //六号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[5],
        // },
        // {
        //   //环线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[6],
        // },
        // {
        //   //十号线
        //   type: 'effectScatter',
        //   symbol: 'circle',
        //   symbolSize: flow_size[0],
        //   data:itemData[7],
        // },
        // {
        //   data: [[1030, 592], [1083, 592]],
        //   type: 'line',
        //   lineStyle:{
        //     color:'red'
        //   },
        //   symbolSize:0
        // },
        // {
        //   data: [[1030, 560], [1083, 560]],
        //   type: 'line',
        //   lineStyle:{
        //     color:'red'
        //   },
        //   symbolSize:0
        // },
      ],
    }

    subwayChart.setOption(option);
  </script>
</body>

</html>
